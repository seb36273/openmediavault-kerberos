version: "1.0"
type: component
data:
  name: omv-usermgmt-kerberos-principal-form-page
  type: formPage
  config:
    title: _("Create Principal")
    request:
      service: Kerberos
      post:
        method: createKey
    fields:
      - type: textInput
        name: adminPrincipal
        label: _("Administration Principal")
        validators:
          required: true
      - type: passwordInput
        name: adminPassword
        label: _("Administration Password")
        validators:
          required: true
      - type: textInput
        name: newPrincipal
        label: _("New Principal")
        validators:
          required: true
      - type: passwordInput
        name: newPrincipalKey
        label: _("New Principal Key")
        value: ""
        autocomplete: new-password
        modifiers:
          - type: enabled
            constraint:
              operator: eq
              arg0:
                prop: randomKey
              arg1: false
      - type: checkbox
        name: randomKey
        label: _("Use Random Key")
        value: true
    buttons:
      - template: submit
        execute:
          type: url
          url: "/usermgmt/kerberos/keytab"
      - template: cancel
        execute:
          type: url
          url: "/usermgmt/kerberos/keytab"
